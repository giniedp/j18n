(function(){var c;c=this.I18n={};c.dictionary={};c.locale="en";c.getLocale=function(){return c.locale};c.addValue=function(a,b){for(var e=a.split("."),d=c.dictionary;e.length>1;)a=e.shift(),typeof d[a]!=="object"&&(d[a]={}),d=d[a];d[e.shift()]=b};c.getValue=function(a){for(var a=a.split("."),b=c.dictionary;a.length>0;)if(b=b[a.shift()],!b)return null;return b};c.makeKey=function(a,b,c){var d=[];a&&d.push(a);b&&d.push(b);c&&d.push(c);return d.join(".")};c.pluralizationStrategies={defaultStrategy:function(a){return a=== 1?"one":"other"}};c.pluralize=function(a,b,e){a=c.pluralizationStrategies[a];if(!a)a=c.pluralizationStrategies.defaultStrategy;e=a(e);if(b[e])return b[e];return b};c.interpolate=function(a,b,c){a=a.replace("%{"+b+"}",c);return a.replace("{{"+b+"}}",c)};c.translate=function(a,b){typeof b!=="object"&&(b={});var e=c.getLocale(),d=b.scope;typeof d==="object"&&(d=d.join("."));var f=b.defaultValue||b["default"];if(typeof a==="string")return c.performTranslation(e,d,a,f,b);for(var h=[],g=0,g=0;g<a.length;g++)h.push(c.performTranslation(e, d,a[g],f,b));return h};c.t=function(a,b){return c.translate(a,b)};c.performTranslation=function(a,b,e,d,f){e=c.makeKey(a,b,e);(b=c.getValue(e))||(b=d);b||(b="Translation missing for: "+e);f.count&&(b=c.pluralize(a,b,f.count));a=0;for(a in f)f.hasOwnProperty(a)&&(b=c.interpolate(b,a,f[a]));return b}})();